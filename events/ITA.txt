add_namespace = italy
add_namespace = italy_news
add_namespace = italy_ethiopia_war
add_namespace = italy_forpol

country_event = { # intro event
	id = italy.1
	title = italy.1.title
	desc = italy.1.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy.1.a
	}
}

country_event = { # intro to the war
	id = italy_ethiopia_war.1
	title = italy_ethiopia_war.1.title
	desc = italy_ethiopia_war.1.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.1.a
	}
}

country_event = { # war crime machine go brrrrr
	id = italy_ethiopia_war.2
	title = italy_ethiopia_war.2.title
	desc = italy_ethiopia_war.2.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.2.a
	}
}

country_event = { # capture of gondar
	id = italy_ethiopia_war.3
	title = italy_ethiopia_war.3.title
	desc = italy_ethiopia_war.3.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.3.a
		add_stability = 0.005
		add_war_support = 0.005
		add_political_power = 25
	}
}

country_event = { # capture of dire dawa
	id = italy_ethiopia_war.4
	title = italy_ethiopia_war.4.title
	desc = italy_ethiopia_war.4.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.4.a
		add_stability = 0.005
		add_war_support = 0.005
		add_political_power = 25
	}
}

country_event = { # capture of addis ababa
	id = italy_ethiopia_war.5
	title = italy_ethiopia_war.5.title
	desc = italy_ethiopia_war.5.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.5.a
		add_stability = 0.005
		add_war_support = 0.005
		add_political_power = 25
	}
}

country_event = { # the king dismisses mussolini
	id = italy_ethiopia_war.6
	title = italy_ethiopia_war.6.title
	desc = italy_ethiopia_war.6.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.6.a
		set_politics = { ruling_party = despotism }
		set_party_name = {
			ideology = despotism
			long_name = ITA_military_junta_party
			name = ITA_military_junta_party
		}
		
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
		
		ETH = {
			country_event = {
				id = italy_ethiopia_war.9
				days = 3
			}
		}
		
		hidden_effect = {
			reset_coalition = yes
			
			remove_power_balance = {
				id = ITA_italo_ethiopian_war_balance
			}
			
			random_other_country = {
				limit = { is_ai = yes }
				news_event = { id = italy_news.1 hours = 6 }
			}
		}
	}
}

country_event = { # stalled offensive
	id = italy_ethiopia_war.7
	title = italy_ethiopia_war.7.title
	desc = italy_ethiopia_war.7.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.7.a
		add_war_support = -0.05
		add_popularity = {
			ideology = fascism
			popularity = -0.0025
		}
		#add_power_balance_modifier = {
		#	id = ITA_italo_ethiopian_war_balance
		#	modifier = ITA_stalled_offensive
		#}
	}
}

country_event = { # collapse of morale
	id = italy_ethiopia_war.8
	title = italy_ethiopia_war.8.title
	desc = italy_ethiopia_war.8.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.8.a
		add_war_support = -0.05
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
}

country_event = { # peace with ethiopia
	id = italy_ethiopia_war.9
	title = italy_ethiopia_war.9.title
	desc = italy_ethiopia_war.9.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.9.a
		
		ITA = {
			white_peace = ETH
		}
		ETH = {
			transfer_state = 914
		}
		
		hidden_effect = {
			ETH = {
				save_global_event_target_as = winning_country
			}
			ITA = {
				save_global_event_target_as = losing_country
			}
			set_global_flag = war_won
			set_global_flag = show_peace_popup_alert
		}
	}
}

country_event = { # peace with ethiopia - victory
	id = italy_ethiopia_war.10
	title = italy_ethiopia_war.10.title
	desc = italy_ethiopia_war.10.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_ethiopia_war.10.a
		
		add_political_power = 100
		
		hidden_effect = {
			remove_power_balance = {
				id = ITA_italo_ethiopian_war_balance
			}
		}
	}
}

news_event = { # mussolini dismissed
	id = italy_news.1
	title = italy_news.1.title
	desc = italy_news.1.desc
	
	is_triggered_only = yes
	
	major = yes

	option = {
		name = italy_news.1.a
	}
}

news_event = { # restoration of democracy
	id = italy_news.2
	title = italy_news.2.title
	desc = italy_news.2.desc
	
	is_triggered_only = yes
	
	major = yes

	option = {
		name = italy_news.2.a
	}
}

news_event = { # italy joins france
	id = italy_news.3
	title = italy_news.3.title
	desc = italy_news.3.desc
	
	is_triggered_only = yes
	
	major = yes

	option = {
		name = italy_news.3.a
	}
}

news_event = { # italy joins germany
	id = italy_news.4
	title = italy_news.4.title
	desc = italy_news.4.desc
	
	is_triggered_only = yes
	
	major = yes

	option = {
		name = italy_news.4.a
	}
}

### FORPOL ###

country_event = { # time to decide
	id = italy_forpol.1
	title = italy_forpol.1.title
	desc = italy_forpol.1.desc
	
	trigger = {
		original_tag = ITA
		has_global_flag = second_great_war_started
	}
	
	fire_only_once = yes
	
	immediate = {
		hidden_effect = {
			activate_mission = ITA_time_to_choose
		}
	}

	option = { # i do like french cheese...
		name = italy_forpol.1.a
		set_country_flag = ITA_supporting_france
		GER = {
			country_event = {
				id = italy_forpol.2
				hours = 6
			}
		}
	}
	
	option = { # mmm, german beer...
		name = italy_forpol.2.b
		set_country_flag = ITA_supporting_germany
		FRA = {
			country_event = {
				id = italy_forpol.3
				hours = 6
			}
		}
	}
}

country_event = { # italy leans towards france
	id = italy_forpol.2
	title = italy_forpol.2.title
	desc = italy_forpol.2.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = { # more effort
		name = italy_forpol.2.a
	}
}

country_event = { # italy leans towards germany
	id = italy_forpol.3
	title = italy_forpol.3.title
	desc = italy_forpol.3.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = { # more effort
		name = italy_forpol.3.a
	}
}

country_event = { # time to decide
	id = italy_forpol.4
	title = italy_forpol.4.title
	desc = italy_forpol.4.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = { # french win
		name = italy_forpol.4.a
		trigger = {
			check_variable = { FRA.FRA_italian_influence > GER.GER_italian_influence }
		}
		FRA = {
			country_event = {
				id = italy_forpol.5
				hours = 6
			}
		}
		set_global_flag = italian_great_game_ended
	}
	
	option = { # germans win
		name = italy_forpol.4.b
		trigger = {
			check_variable = { GER.GER_italian_influence > FRA.FRA_italian_influence }
		}
		FRA = {
			country_event = {
				id = italy_forpol.6
				hours = 6
			}
		}
		set_global_flag = italian_great_game_ended
	}
}

country_event = { # time to decide
	id = italy_forpol.5
	title = italy_forpol.5.title
	desc = italy_forpol.5.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_forpol.5.a
		FRA = {
			add_to_faction = ITA
		}
	}
}

country_event = { # time to decide
	id = italy_forpol.6
	title = italy_forpol.6.title
	desc = italy_forpol.6.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = italy_forpol.6.a
		GER = {
			add_to_faction = ITA
		}
	}
}
